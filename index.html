<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Genesis One Swarm BETA</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
/* ===== base dark theme ===== */
html,body{margin:0;height:100%;background:#000;color:#fff;
          font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
*{box-sizing:border-box}

/* ===== matrix canvas ===== */
#matrix{position:fixed;inset:0;z-index:0;background:#000;pointer-events:none}

/* ===== weather ===== */
#weather{display:flex;flex-direction:column;align-items:center;gap:.25rem;margin-top:1rem}
#weather .icon{font-size:6rem;line-height:1}
#weather .temp{font-size:4.5rem;font-weight:900;text-shadow:0 0 6px #000}

/* ===== layout ===== */
.wrapper{position:relative;z-index:1;
         display:flex;flex-direction:column;justify-content:flex-start;
         align-items:center;gap:2rem;min-height:100vh;padding-bottom:80px}/*extra space*/

#datetime{font-size:1.5rem;font-weight:600;text-align:center;margin-top:.25rem}
#title  {font-size:2.3rem;font-weight:800;letter-spacing:1.5px;text-align:center;margin-top:-.3rem}

#board{display:flex;flex-direction:column;gap:1.2rem;width:90%;max-width:900px}
.grid{display:grid;grid-template-columns:2.5rem 1fr 1fr 1fr;align-items:center;column-gap:1rem}

.header{font-size:1.1rem;font-weight:600;opacity:.75;text-shadow:0 0 4px #000}
.header span{text-align:center}

.row{font-size:1.8rem;font-weight:700;letter-spacing:.5px}
.row span{text-shadow:0 0 5px #000}
.row + .row{margin-top:.6rem}
.icon,.name,.hash,.best{text-align:center}

/* highlight for >1.5 T */
.highhash span{color:#00d0ff}

/* ===== nav + footer ===== */
#navlinks{position:fixed;bottom:34px;left:0;right:0;text-align:center;font-size:1rem;font-weight:700;z-index:1}
#navlinks a{color:#fff;text-decoration:none;margin:0 1.5rem}
#navlinks a:hover{text-shadow:0 0 6px #fff}
#footer{position:fixed;bottom:10px;left:0;right:0;text-align:center;font-size:.8rem;opacity:.8;text-shadow:0 0 4px #000;z-index:1}

/* ===== mobile tweaks ===== */
@media(max-width:600px){
  #weather .icon{font-size:4rem}
  #weather .temp{font-size:3rem}
  #datetime{font-size:1.2rem}
  #title{font-size:1.6rem}
  .row{font-size:1.1rem}
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div class="wrapper">
    <!-- WEATHER -->
    <div id="weather">
      <div class="icon">â³</div>
      <div class="temp">--Â°C</div>
    </div>

    <div id="datetime">Loading timeâ€¦</div>
    <div id="title">Swarm&nbsp;BETAâ€™s&nbsp;TOP&nbsp;Ranking</div>

    <div id="board">
        <div class="header grid">
            <span class="icon"></span>
            <span class="name">MEMBER</span>
            <span class="hash">HASHRATE</span>
            <span class="best">BEST&nbsp;SHARE</span>
        </div>
        <div id="workers"></div>
    </div>
</div>

<!-- navigation -->
<div id="navlinks">
  <a href="https://genesisoneco.github.io/alpha-mining">Swarm&nbsp;ALPHA</a>
  <a href="https://genesisoneco.github.io/beta-mining">Swarm&nbsp;BETA</a>
</div>

<div id="footer">Genesis&nbsp;One&nbsp;Mining&nbsp;Â©&nbsp;2025</div>

<script>
/* ===== WEATHER (Seoul) ===== */
const WX_URL='https://api.open-meteo.com/v1/forecast?latitude=37.566&longitude=126.978&current_weather=true&timezone=Asia%2FSeoul';
const iconEl=document.querySelector('#weather .icon');
const tempEl=document.querySelector('#weather .temp');
const wxIcon=c=>c===0?'â˜€ï¸':[1,2].includes(c)?'ğŸŒ¤ï¸':c===3?'â˜ï¸':[45,48].includes(c)?'ğŸŒ«ï¸':[51,53,55,56,57].includes(c)?'ğŸŒ¦ï¸':[61,63,65,66,67,80,81,82].includes(c)?'ğŸŒ§ï¸':[71,73,75,77,85,86].includes(c)?'â„ï¸':[95,96,99].includes(c)?'â›ˆï¸':'â”';
async function fetchWeather(){try{const d=await(await fetch(WX_URL)).json();iconEl.textContent=wxIcon(d.current_weather.weathercode);tempEl.textContent=`${Math.round(d.current_weather.temperature)}Â°C`;}catch(e){console.error(e);iconEl.textContent='âš ï¸';tempEl.textContent='--Â°C';}}
fetchWeather();setInterval(fetchWeather,9e5);

/* ===== CLOCK ===== */
const clock=()=>document.getElementById('datetime').textContent=new Date().toLocaleString(undefined,{weekday:'short',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit'});
clock();setInterval(clock,1e3);

/* ===== POOL CONFIG ===== */
const ADDRESS='bc1qj77y5emr5xv6jrqn940wn0uk58afya82je7uu5';
const CK_URL=`https://solo.ckpool.org/users/${ADDRESS}`;
const PROXY='https://corsproxy.io/?';
const FETCH_URL=PROXY+encodeURIComponent(CK_URL);

/* ===== helpers ===== */
const toNum=s=>['P','T','G','M','K'].reduce((n,u,i)=>s.includes(u)?parseFloat(s)*10**(15-3*i):n,parseFloat(s));

/* ===== worker list ===== */
async function refresh(){
  try{
    const d=await(await fetch(FETCH_URL)).json();
    const rows=(d.worker??[]).sort((a,b)=>b.bestever-a.bestever).map(w=>{
      const id=w.workername.includes('.')?w.workername.split('.')[1]:'sejcore';
      const rate=w.hashrate1m, best=w.bestever.toLocaleString();
      const n=toNum(rate),icon=n===0?'ğŸ”´':n<0.5e12?'ğŸŸ¡':'ğŸŸ¢';
      const blue=n>1.5e12?' highhash':'';
      return `<div class="row grid${blue}">
        <span class="icon">${icon}</span>
        <span class="name">${id}</span>
        <span class="hash">${rate}</span>
        <span class="best">${best}</span></div>`;
    }).join('');
    document.getElementById('workers').innerHTML=rows;
  }catch(e){
    console.error(e);
    document.getElementById('workers').textContent='Failed to load CKPool data.';
  }
}
refresh();setInterval(refresh,5e3);

/* ===== matrix rain ===== */
const cvs=document.getElementById('matrix'),ctx=cvs.getContext('2d');
let W,H,font=14,col,drops,str='ã‚¢ã‚¡ã‚«ã‚µã‚¿ãƒŠãƒãƒãƒ¤ãƒ£ãƒ©ãƒ¯ã‚¬ã‚¶ãƒ€ãƒãƒ‘ã‚¤ã‚£ã‚­ã‚·ãƒãƒ‹ãƒ’ãƒŸãƒªãƒ°ã‚®ã‚¸ãƒ‚ãƒ“ãƒ”ã‚¦ã‚¥ã‚¯ã‚¹ãƒ„ãƒŒãƒ•ãƒ ãƒ¦ãƒ¥ãƒ«ã‚°ã‚ºãƒ…ãƒ–ãƒ—ã‚¨ã‚§ã‚±ã‚»ãƒ†ãƒãƒ˜ãƒ¡ãƒ¬ãƒ±ã‚²ã‚¼ãƒ‡ãƒ™ãƒšã‚ªã‚©ã‚³ã‚½ãƒˆãƒãƒ›ãƒ¢ãƒ¨ãƒ§ãƒ­ãƒ²ã‚´ã‚¾ãƒ‰ãƒœãƒ0123456789ABCDEF';
function resize(force=false){
  const w = innerWidth, h = innerHeight;
  /* ignore tiny resizes triggered by URL-bar hide/show */
  if(!force && Math.abs(h - H) < 50 && Math.abs(w - W) < 50) return;
  W = cvs.width  = w;
  H = cvs.height = h;
  col  = Math.floor(W / font);
  drops = Array(col).fill(1);
}
resize(true);                 // initial
addEventListener('resize', () => resize(false));

setInterval(()=>{ctx.fillStyle='rgba(0,0,0,0.05)';ctx.fillRect(0,0,W,H);
  ctx.fillStyle=[6,0].includes(new Date().getDay())?'#ff9f00':'#0f0';
  ctx.font=font+'px monospace';
  drops.forEach((y,i)=>{ctx.fillText(str[Math.random()*str.length|0],i*font,y*font);drops[i]=y*font>H&&Math.random()>0.975?0:y+1;});
},33);
</script>
</body>
</html>
